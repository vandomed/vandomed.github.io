<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Dane Van Domelen   vandomed@gmail.com" />

<meta name="date" content="2018-03-06" />

<title>Get Rich with stocks</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Get Rich with ‘stocks’</h1>
<h4 class="author"><em>Dane Van Domelen <br> <a href="mailto:vandomed@gmail.com">vandomed@gmail.com</a></em></h4>
<h4 class="date"><em>2018-03-06</em></h4>



<div id="stocks-package" class="section level2">
<h2>‘stocks’ package</h2>
<p>The <strong>stocks</strong> package has a variety of functions for analyzing investments and investment strategies. I use it for a lot of my articles on <a href="https://seekingalpha.com/author/dane-van-domelen/articles#regular_articles/">Seeking Alpha</a>. The package relies heavily on <a href="https://finance.yahoo.com/">Yahoo! Finance</a> for historical prices and on the <strong>quantmod</strong> package for downloading that data into R.</p>
<p>There are functions for calculating performance metrics, backtesting trading strategies, and visualizing the performance of funds or strategies. I would say it is similar in spirit to the website <a href="https://www.portfoliovisualizer.com/">Portfolio Visualizer</a> and the R package <strong>PerformanceAnalytics</strong>.</p>
<p>Like most vignettes, the purpose here will be to illustrate typical usage of the functions in <strong>stocks</strong>. I’ll try to incorporate some interesting examples.</p>
<p>To start, here are the functions:</p>
<table>
<colgroup>
<col width="33%"></col>
<col width="66%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><em>load_prices</em></td>
<td align="left">Download and align historical prices for a set of tickers.</td>
</tr>
<tr class="even">
<td align="left"><em>load_gains</em></td>
<td align="left">Download and align gains for a set of tickers.</td>
</tr>
<tr class="odd">
<td align="left"><em>prices_rate</em></td>
<td align="left">Calculate growth rate from a vector of prices.</td>
</tr>
<tr class="even">
<td align="left"><em>gains_rate</em></td>
<td align="left">Calculate growth rate from a vector of gains.</td>
</tr>
<tr class="odd">
<td align="left"><em>sharpe</em></td>
<td align="left">Sharpe ratio.</td>
</tr>
<tr class="even">
<td align="left"><em>sortino</em></td>
<td align="left">Sortino ratio.</td>
</tr>
<tr class="odd">
<td align="left"><em>mdd</em></td>
<td align="left">Maximum drawdown.</td>
</tr>
<tr class="even">
<td align="left"><em>rrr</em></td>
<td align="left">Risk-return ratio.</td>
</tr>
<tr class="odd">
<td align="left"><em>metrics</em></td>
<td align="left">Calculate various performance metrics.</td>
</tr>
<tr class="even">
<td align="left"><em>twofunds_graph</em></td>
<td align="left">Graph one performance metric vs. another for two-fund portfolios as allocation varies.</td>
</tr>
<tr class="odd">
<td align="left"><em>threefunds_graph</em></td>
<td align="left">Graph One performance metric vs. another for three-fund portfolios as allocation varies.</td>
</tr>
<tr class="even">
<td align="left"><em>onemetric_graph</em></td>
<td align="left">Graph performance metric for various investments.</td>
</tr>
<tr class="odd">
<td align="left"><em>onemetric_overtime_graph</em></td>
<td align="left">Graph performance metric over time for various investments.</td>
</tr>
<tr class="even">
<td align="left"><em>twometrics_graph</em></td>
<td align="left">Graph one performance metric vs. another for various investments.</td>
</tr>
<tr class="odd">
<td align="left"><em>targetbeta_twofunds</em></td>
<td align="left">Backtest a two-fund strategy that targets a certain beta.</td>
</tr>
<tr class="even">
<td align="left"><em>targetall</em></td>
<td align="left">Backtest a fixed-allocation trading strategy.</td>
</tr>
</tbody>
</table>
</div>
<div id="loading-data-from-yahoo-finance" class="section level2">
<h2>Loading data from Yahoo! Finance</h2>
<p>The functions <em>load_prices</em> and <em>load_gains</em> let you download historical data from Yahoo! Finance. They use <strong>quantmod</strong>’s <em>getSymbols</em> function internally. Here are some examples. (Note: R output is printed in nice tables rather than usual-looking R output because I loaded <strong>printr</strong>)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;stocks&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;printr&quot;</span>)
prices &lt;-<span class="st"> </span><span class="kw">load_prices</span>(<span class="kw">c</span>(<span class="st">&quot;SPY&quot;</span>, <span class="st">&quot;TLT&quot;</span>), <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)
<span class="kw">head</span>(prices)</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">SPY</th>
<th align="right">TLT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2002-07-30</td>
<td align="right">66.85</td>
<td align="right">45.54</td>
</tr>
<tr class="even">
<td>2002-07-31</td>
<td align="right">67.02</td>
<td align="right">46.11</td>
</tr>
<tr class="odd">
<td>2002-08-01</td>
<td align="right">65.27</td>
<td align="right">46.37</td>
</tr>
<tr class="even">
<td>2002-08-02</td>
<td align="right">63.80</td>
<td align="right">46.84</td>
</tr>
<tr class="odd">
<td>2002-08-05</td>
<td align="right">61.58</td>
<td align="right">47.05</td>
</tr>
<tr class="even">
<td>2002-08-06</td>
<td align="right">63.66</td>
<td align="right">46.65</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
gains &lt;-<span class="st"> </span><span class="kw">load_gains</span>(<span class="kw">c</span>(<span class="st">&quot;SPY&quot;</span>, <span class="st">&quot;TLT&quot;</span>), <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)
<span class="kw">head</span>(gains)</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">SPY</th>
<th align="right">TLT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2002-07-31</td>
<td align="right">0.0024</td>
<td align="right">0.0124</td>
</tr>
<tr class="even">
<td>2002-08-01</td>
<td align="right">-0.0261</td>
<td align="right">0.0057</td>
</tr>
<tr class="odd">
<td>2002-08-02</td>
<td align="right">-0.0224</td>
<td align="right">0.0102</td>
</tr>
<tr class="even">
<td>2002-08-05</td>
<td align="right">-0.0348</td>
<td align="right">0.0044</td>
</tr>
<tr class="odd">
<td>2002-08-06</td>
<td align="right">0.0337</td>
<td align="right">-0.0085</td>
</tr>
<tr class="even">
<td>2002-08-07</td>
<td align="right">0.0174</td>
<td align="right">0.0024</td>
</tr>
</tbody>
</table>
<p>In either case, data going as far back as possible for SPY and TLT (which happens to be mid-2002) are retrieved.</p>
</div>
<div id="performance-metrics" class="section level2">
<h2>Performance metrics</h2>
<div id="total-or-annualized-growth-sharpe-ratio-max-drawdown" class="section level3">
<h3>Total or annualized growth, Sharpe ratio, max drawdown</h3>
<p>There are functions for calculating various performance metrics based on a vector of prices or gains, or a matrix where each column has prices or gains for a different fund. To illustrate a few, here’s net growth based on either data type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prices_rate</span>(prices)
<span class="co">#&gt;   SPY   TLT </span>
<span class="co">#&gt; 3.025 1.599</span>
<span class="kw">gains_rate</span>(gains)
<span class="co">#&gt;   SPY   TLT </span>
<span class="co">#&gt; 3.025 1.599</span></code></pre></div>
<p>Values of 3.025 and 1.599 mean SPY grew 302.5% and TLT 159.9%. For annualized rather than total growth:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prices_rate</span>(prices, <span class="dt">units.rate =</span> <span class="dv">252</span>)
<span class="co">#&gt;     SPY     TLT </span>
<span class="co">#&gt; 0.09352 0.06324</span>
<span class="kw">gains_rate</span>(gains, <span class="dt">units.rate =</span> <span class="dv">252</span>)
<span class="co">#&gt;     SPY     TLT </span>
<span class="co">#&gt; 0.09352 0.06324</span></code></pre></div>
<p>Sharpe ratio and max drawdown:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sharpe</span>(<span class="dt">prices =</span> prices)
<span class="co">#&gt;     SPY     TLT </span>
<span class="co">#&gt; 0.03608 0.03271</span>
<span class="kw">sharpe</span>(<span class="dt">gains =</span> gains)
<span class="co">#&gt;     SPY     TLT </span>
<span class="co">#&gt; 0.03608 0.03271</span>

<span class="kw">mdd</span>(<span class="dt">prices =</span> prices)
<span class="co">#&gt;    SPY    TLT </span>
<span class="co">#&gt; 0.5519 0.2659</span>
<span class="kw">mdd</span>(<span class="dt">gains =</span> gains)
<span class="co">#&gt;    SPY    TLT </span>
<span class="co">#&gt; 0.5519 0.2659</span></code></pre></div>
</div>
<div id="all-in-one" class="section level3">
<h3>All-in-one</h3>
<p>Better yet, a single call to <em>metrics</em> produces a data frame with all of these metrics (and potentially others) and a correlation matrix for gains.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bond.metrics &lt;-<span class="st"> </span><span class="kw">metrics</span>(<span class="dt">gains =</span> gains, <span class="dt">perf.metrics =</span> <span class="kw">c</span>(<span class="st">&quot;growth&quot;</span>, <span class="st">&quot;cagr&quot;</span>, <span class="st">&quot;sharpe&quot;</span>, <span class="st">&quot;mdd&quot;</span>))
bond.metrics<span class="op">$</span>perf.metrics</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Growth</th>
<th align="right">CAGR</th>
<th align="right">Sharpe</th>
<th align="right">MDD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SPY</td>
<td align="right">3.025</td>
<td align="right">0.0935</td>
<td align="right">0.0361</td>
<td align="right">0.5519</td>
</tr>
<tr class="even">
<td>TLT</td>
<td align="right">1.599</td>
<td align="right">0.0632</td>
<td align="right">0.0327</td>
<td align="right">0.2659</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bond.metrics<span class="op">$</span>cor.mat</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">SPY</th>
<th align="right">TLT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SPY</td>
<td align="right">1.0000</td>
<td align="right">-0.4066</td>
</tr>
<tr class="even">
<td>TLT</td>
<td align="right">-0.4066</td>
<td align="right">1.0000</td>
</tr>
</tbody>
</table>
<p>Looking at the performance metrics, we see that SPY achieved almost 2x the growth of TLT, but also had a max drawdown more than 2x as severe. A higher Sharpe ratio suggests better risk-adjusted returns for SPY.</p>
</div>
</div>
<div id="graphics" class="section level2">
<h2>Graphics</h2>
<div id="growth-of-10k" class="section level3">
<h3>Growth of $10k</h3>
<p>Let’s look at the famous FANG stocks (Facebook, Amazon, Netflix, Google) for the past 3 years, with SPY (an S&amp;P 500 ETF) included for reference.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">growth_graph</span>(<span class="kw">c</span>(<span class="st">&quot;SPY&quot;</span>, <span class="st">&quot;FB&quot;</span>, <span class="st">&quot;AMZN&quot;</span>, <span class="st">&quot;NFLX&quot;</span>, <span class="st">&quot;GOOG&quot;</span>), <span class="dt">from =</span> <span class="st">&quot;2015-03-02&quot;</span>, 
                    <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAHgCAMAAAB6sCJ3AAAAllBMVEUAAAAAADoAAGYAAP8AOjoAOpAAZmYAZrY6AAA6ADo6AGY6OgA6OpA6ZrY6kLY6kNtmAABmADpmAGZmZgBmZjpmZmZmkJBmtttmtv+QOgCQOjqQZgCQkDqQtpCQ27aQ2/+gIPC2ZgC225C2/7a2/9u2///T09PbkDrb2//b/7bb////AAD/pQD/tmb/25D//7b//9v///8PTwu/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2dC5ucOHaGcbNO98wmsWeT3biz2ZiaXbs2RtVu/v+fC7pLIAnBERRQ3ztP14WigDLvHN2lqgOAQHXvCwDHBgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCFSet5cv976E7Xgwgd5fK86n/G+8/Vv/cKk+fE3s8/Ozc0xxio8/1LurfnnRu0wc62g8lkDXSvH0Lfsbz93UTRfK6B3eXsQJlDb9O/FKiTt9rMPxUAIZf5wQkaYXYPqm9wHIHu5SPf3+8peX6ov6uvzoVvUbrvwBAh0Xczt5cpKXTckSSO0k6GX69PbyX69iy1Wr2geg/qn/7BkCHZiryahcRRLW38r//SxUEunOJ32j5WP/8ce/qoSH3/RL5d95/R2hY6UVkgJ90edTAkl15HGFQP2Gk2j0QAL198/P+lz0Db6YZO3Kd5F3l6twMQJJnJtuv+MJxDM7fzACPf1dpm4yRskLEAJdckPg7nkggbysCueiMtM35U4fT95e+rt7Eync24t8eDZ7Xp3im/MdLwkTX1b7XZ/1Oc1hlEC3WQXBXfN4AtkC0cUrWIv40D986rX4s3js77YV6IsvivMdXyBlkIp1Q4FE8OEJ53N3Eh5coC92e2+MuL19gvXhby/P4pWfiXZE8b7jC6TyPs/ufoMI9MfTJGAPJVBvjooaRiCRp7Ey9Lf1Vj3947XPuvSPTtBJCGTTOYMohckQ9DOUB5pRjbB/HkggfrfVjZY3dCSQyDr34efjDx6EHGfmRaC+FHZT+W21n18Kq57+5zwh6JEEMvVAvOnBCmQjUx8f+sc/q2zQMPPiiuJ9xxWIvxYCeRFI7mfrgUYFwuPySAK5NdE8+6yr9NwSldjni8gJ83cxgaKlMG7W316+XPw8kEzqnJro8xTDHkoga5Awx9QJ2zodYYNT0SeaSZ8DArnfCRTj9ZG1QMO2sPOEoMcSSN13443XAipzJSYlkzf4JiQJCOR8x98unNN5ZFv3NGiNP00IejSBtgD9gQAJCARALhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQKC1SBk3AvgcoebocnfBAgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBAAgIBEkcUSCxzoxZ0F/BFj8X7t5foGrUQaB0OKNBNrJ104WshXdS6gh9/3OQicPG1tSDQOhxQoIuIMu+vz1qg7sZXURZLRcaX1oJA63A8gYQ5CiUQXzbp7eVTKgBBoJXYiUBzOk3e7LJ/TgTqQ9DfEwEIAq3ETgSaBV9DUsYanQd6lltTa6xDoHU4okCdWU1blcJk4Lkml1iHQOtwUIG6TuSaL27MuemVcVc6IQhxPIH0QqOi6AWB7s3xBNKlsBsi0B44nkB9KYxrI2oOIdDWsOGGAwokmzKELRBoa04h0DFOeE4gECABgQAJCARIQCBAgUEgQAECARKnEEi1oFZf1Ktk9U+JEwLDOQQytYfy1TXLIAhUgJE+pxAo1ZG1yAmB5qwCpfoBFTgh0JxToGt0KE+hEwLNfgVqUwy+6ggkc9OpnqyxE4J8WOCVYSWB3l/lvY0Ok6CXwr5olZxO9gkg0GLuINBVdVOWvXbIh/MZJmGic+skEGgx2wv0/mq0uUbSl5ICpYaDlTjho8NGLxxWEcgpF90iN7doBMrJBEGgxTD9uJlA20agW3I4T4ETPjhMCzSuhu7WywOpe7pyHghNGRugBWIbCiS7LadK2GhMPQwmAgXZST3Q+kCgpexKoPnLTJWiP+H37/hb8MfkM4vuk30DZqMHkRY6HAlEoKUwGXy2jEA6B5Soi4ZAh+EOAunCFyLQCdD1P9vmgfi0hRDoFHgC1aOPV8tE80kwVxPoIiPc+6uqZuLD5XW6+en91Z19qswJH5h7CcQbVNcS6O2X/xSO9AKpxgxT4XT98LXfKprnIVARXIHqLQXq488fVhLo+vS7OPL767/8xquhf/7pP5QsfKrN99c//DKaeQECLcUTaByC1qwH6kPBKgK9vz7LSYL6xwtPw24f/ypleX/tn/utopMiBCoCU+WwOwi01uH4PC5iKEavyo1bcvmkO3aoraI7AAQqgiPQOAHbjUB1iuF3uRliKEavytuv37qfv32VsvAETE5hxjsBQKAi8MjDdi/QHKQmvBuiSMu+9CnYDyGLSMCkQLxDCQQqghUo5M8RBbqakaki1jz3KZiURY0wFPmj29M3CFSE0wmkJtnks4vzl2+//uO/v6pU7dnZweSLyCd8cE4nkJ4KUdT4cIn+8qucrlX3rZcCvf3yRwhUAiNQ0J8DCnSxVT5yxZ5KLttjeraqEHWpIFAJeOaZ8f6sJxHI1m5fnv4hcjtqhJietOPZpHEQqASM1z+zmD/HE+gwJzwLEOhOJzwLEOhOJzwLQqA6UgaDQGAKJpoJIBAEWggEutMJz0Kf+YFA9zjhWVACRfyBQGACLlCoI5DieAK5XZ6dGX9N/bTqGTTsywaBFsK60wlkuzyPZnrRI4pkl48yJ3xw5HCeQG9oyREFsl2eAwLpjkLlTvjgnFAg2+U5JBDv1RGYswwCLeQYArEU/q5ul+eQQH3y9ZfAaBAItBAlUOzjnQg0A7fLc1AgO8VnmRM+OKcUSHd5Hs74q3YIzegAgRZySoF0l+dgBLp8/L/P45mjIdAyVAbibAKpLs8hgXgHs8DUjBBoGWcVSHZ5Dgj09iL8Gs28CYGWEZnVxXBUgWSX57FAqp560J+VdMLH5rQCCUVG6678ux6OP1pAAwIt43wCHeWEJwEC3euEJ0D2JEsDgUAU3hMIAt3rhCcAAt3zhCeAV/5AoHud8ARAoHue8ASsJNDN9CMlQLqfYkZf04fVXor72t2HfMIHZQ2B+vuiaujCjd4zD7cI0d9ZVTmL17L5Yvxad5+mnvBRqaf9mSvQzz+5zvjvZkG4n2p+DlEj/SZ6t8oZE73Xzj7kEz4q9QoCFYNwON1+ceXdgJQgooeZ+9rZh3zCR0XMqTC1004EalL4uzoLsspow7l9+Oq+dvcJnxBMU0eWSfWYLVCf9Ukt4zT3cPNxloS2r/skK/i6xAkflTq2zq7HXIFMf+PocrqzDrcAKcdFOJwW6OJ6DoHmUuuVwpLMFChjQe85h1uCTaq4QOEkzN2HfMJHZRWBnLThRkrECmSi+QVMZaIh0GJyimDdahFoMqdEL8YLOdRrt+juvoZAy1lHIDtpQTIPNJ1TolUkirUORI1mvCLR7kM+4UOykkBmQd10/JmMU/SmDBVbkk0ZTgCEQJPUwzerCJRDRk4Jjam7wwx/r9XDdBm+W0mgtSPQEiDQBGYKIC5SLab2zfnaOhWJ0zklCLQ3ah2CpECZAWitisTJnBIE2htaIKlPZhb6iBWJRznh0VACifjD3+f5s3VFYmWY/10a/Qm/f8df/K/mz7V9z7K/m30DupkR6FZVoyHq/uE2BBFognqwKPM6ESizIpG3Y356+9cfXaBZfOZ5SwGB0ojkawOBsioS5eRPIvqgGL9bfENkBrqOfBpnvYpE2cMUFYm7xShiE6/5AWgtgcT67f/sEIH2i+2rUQtGH+exUkWi/tR0zBkdbnNyf+ijIAVyF0Nl/sd5rFSRqJZwv0UHj+F+3hemBXL6zW8h0HErEoEH90YsBs9q48oWAu2hRyKgI7rLi+RLCqTeuztkggj0kMjwI5bSra1N3g6ZrFSRWO68YA2kH3otZpOeDXfIYJ2KxILnBWvA9JNqN2Ws20qgQkCgu+JWIpoqIQgEcvEF8jeOolGS5QJdE23tBc8LFpOQICHQqECWBhHorMRm1vBTq6FAsjiW15tVAIHOynyBZNG+GxbI0kCgk8K68Ay9LCkQM+lYLhDopAQFYmmBMgdieECgk+K0cTkb2aDEXg8/n32e2W1htn8E2sL2DAuNDGSsSwq0gLkRyJ34dJPzgmWw0AQ/Uh4ne729QO7Ep5ucF2QxNKFmoUky9yBQopPYKucFOQy6pNYyBz0IQcwXyAwhJIFM9Bkww5Lt/AhSIK9AzpjeIj+EQEBQ61hS64FdemR77ZXllUCdyiBBICDQUUc75ESeuvYjkE3o6tFAwoXMFkhMX3mtiGutQKBymGTLDO1yky4ddUTOx84BpB63F0gMt7j1D3oay7XPC6YYCeRNrsGUJeK5tuo4XyExuyLxWZfkL+gTvQ98gVRYsWN1lDhM7VD73yGffaZAF2+sHqFXNAQqQu2kQmGBOtlxXuSbbYjyUjISsyPQJ5mCIQLtglAiNJgeivecdzPTdZGsj2FuHujy9E2mYBiVcW/qSFXgWCCvj2FRfZaUwuSAjCvNHwhEpo4JJPCrf7wmjQIZHwfUAx2VdBHKG2HBIBAYMgw+g64bgyE68/v5uLSJz+ZmonewZirgDLsSJgQiU1CgXazaDDp/MjE2jjEFBWqLCtTtYd14MJiNbh2BpDdtcYGKAIGWoZsjVE7Y6Z/qz+5TQKC2FeK0+kUYCHQsRNWzKYC5sWfR9FApZOQRAQgCnYa69ufiDQtUJADJNExGodZuHACBDsVgMt6RQExP/LPg2IOEKiRQIC2DQEfCr/lhzO0h7wk045jWjXa4ubWfmp2GQKAjEag6ZN7b+QK1Y4Fa/TAUKJQZWiLQz8/Vxx8XtIVtT2g2H/c9WyJQq/PJrVSkDQvUFhPo9uHr9eOP6BTicw8HsvH8GeWd2Xjg6TTSHCGRfmWzPl7muZhAfKJWPkPrFUObN8CMtxi0vAeyyc5MmXMEcl7rEntrEzazm3JsZNB8gfhU0VwgzBO9AbVUxzwZQgKZx0x/bKRR702EGXkyiEwOyyMQeiTOY0kP9trtQFiHUrAR+U3v4xrCRI1h9KPFeaAr2sLmYFfEydDIDBSM7xKXJD7BYesVtUJ5mnibRUmB5BwvhAk2Z533JNQ2N5O1c7izoS1k5QikWiLMO6dVQrdzDQWKHjX6yUr1QJOLQj2YQHYURJ5Akd6qdnqoRDJlUjddQHfaRHVWON40MZd1BJpeFOpBBZqeEaM2f4FqZ13bk5fPaU065VYzW6eKsEQgnn1ODsrIWJLlMQWanlLFNLXXfidDR6BQ/7EgpvpY1fPorW2JyKNZIJAsfokxqhEyFoV6KIH8AtiEQE5XH22LeqfqmtU4nUkGtYBmc0F7uqX1QJxEPRAikI+fHKUEcvqJmZZSu7ig3iursT3aDWxu+tU0qU+X1QNxUjXR04tCPZhA3ru4Qdo0b/2lQLyZE39mfBKkSRu0IAmTdry9pNrCJheFehCBQlU/tk55ZJLuaOg5E1i6IkegBZ+EaNRfjCWZ6LcX1APlUYcK7qZueVw3LUclD3PJi3qHLfhOiMY8RNi4P5CZ2OP79657jL96uK1Wf4PP6lq9ZwXO2670e5rQ9jUEMlOYxXJKp41Ast1TtaBHWsBqWy+tGtpVi6n4tMiACvoxBI0fgQK5oQURaLKWWc5jJsv5jyaQTZ0Ss8j5AulmjpIC0Q/BaZQwhQW6TPbjkAW199dEr6HTCWQaK3KmH/QF6vws0Y4EGj2XECijK6KuKrp8/PEoAmU0oPv7j/to2BL8ElrnsYxATTMQqCkl0GQ/DlOReHl+EIFq0/cr+wuBTj7L59GQtYamyaKEQM3gdRMu0C+pSJxeLENr8/NzLKd0T4GKzlwh0R01ZgvkMWutSad1q/WaTUsFIPd1Ey3QL5pcYborma6Kji7uc3yB3HizpLNhSKAZ16Z7wNsRgKaLD9WfsSpGoLFBS5Kwg68XVmLcrzPGeE7c8b/vw2YL5Les67av5FQIOTSBxKqkQGW4q0Akg1SJSVXhDAarzzh5WKBsrDbDzmGLBTKKNM2wvB5vEDuHQLOMmJXTGKErCfW7mbOexnpiZHbRMCRGqy/FrfQZCRRtzVggkE7D9pOEsfyxLIxF72EedVf7Ze+5AoXmgsru42NoRy+Wo5WRZa2gKkUF4rU7z7taK2M4kW1qz+z+fBFGzROLBHKbSrU6Cwa0dwUE4uZIe5pQKcvsFGFZReKN1zHvZ1wYY7nJktMxlL9dkPsdf2VWEUxNgeAJlB96yNmcETrdEuWsUEWh3i/2wbKKxLdfv4m/5ZQVKDcLyuzzIoEWlriGV+D18JkTeEyFIe0iHPzS+iYC8Wrmn799PahAUgGVasye9b+QQM5zds6n1ZWELbmc7jIorW8hkKhmvnzaVRLmPMbh4qiuE2rIQ83m6TCnrSIMG7/I7t9cNv1qmiaVZGWzpBh/eU60UZQ+bw6ZAtV88SxZecOXsOn/mysQNf4Mp4PK7N2coUwgdiTlUJWF9xGoBOsIlLgdtbuAKDdBZLzrOVmQ0gLlZP1zBgE2zbjmL1Ye15+Gq3sWcGyBmPs0IZCQRr+RGaGODVZWn4Cqjy9Q1nkzmrYa2/PdESIVXUpEHs3JBBrX0Slk9TFz34rP660FUgFlqt5QzxuWkd9xeuuYsGNbP4NfKBB5NDMFMi2p+6iJVjkJM34qUMmrXzEvz6xfsK0FMgEl6c/E5N4OjgyNjUGDrsyj7xTk6BHIG/07FsjcJhb4tBMCqV0m5HAWrJ3D0AJmFw5ICNTmZpz9vE/jPwyyQY2UrUjRy+HgArntEmNFTIUdL7eHBeIGyV3SJ1pYhPc6CLZCoIzgkjf7gWl/8Ld2nRuUGmtNY97N+QVTHLsxNVugzl831NmlzqqUZqxbIpCZGUNPpsvU5tRXMtu3hiMm9OZxX7Cmc/JGhf05eGOqp8V41SNfoGC2g6+JnSfQshTMrFgi3raTAk2sjWNJZZGH7wvmmUccuzGVdV1CIKYFqvXUKIEj8GppvlfSDnnguQIFTMgQKJNUIX1LDt2Yqlsm9duhQOqvTvQYYnoqp+ScGfkC6SQrEki0QDFP8pspttUkzqEbUwfdaIZzEliB0m0dvEY6msOpmaw/yivs69mUA/V/zsVGq5dntHIdV6AdNaaOCu2+QPpxUiCRE4oKVIeWlAyhB9dEzmKDoGlYHx8hlzWzNbM4dGNqVCAnbyTSqODu7mFYRCDRbu+V9RKJTLrZwRXIxCmdudZHiH99wF78OXY9UJ5Akw2mtckqmS262lDVM1qB1D3vN49vdvL2u3OOtXYwV6d6+kwNKB2UpHbjz+kEUjlnWyfEqwonDlPLRjJXIKa22rlS+ZPpD9gXx1vmZ5OnqgfZoP2r1SO79GDSVO2hrb7RdcwTP2k7Zgt05TWIF+qq30UEGjWdWoHszcoQqBtHIFbruiNnD2ead9GC4tzwNpIvZt4Lt/eGXRPZHkAfwatJNu0VjYlD+9FnvkAiB82nPtxBRWJw7kmm64NsC1lOAcoppdeq6CW/qu8qcwOEOpENG5HYwUxVlHpwLmWQ/XGP4bap25pBM+5mT/7MFUjMuyHn17x7KSw896QRyLRQ5BXAmRVI5pxFxpqZAvlIIP4oA08fkJgfXpxLVAbZz6Zvf6S3173EqZL3anZ3ji96hqA7rhcWK5Wr6mamy1SycJ4pUFtLQepO3/jOZHLF5yOBhFQyR+S21eond5JnI9dER0GdYK3c/jCDXp+kQUcTyGmS0PdkuKpEJ6p1usj8hNEDt87cuzLd80rZXpbHVUUJxByBnCY6r8OJ6vU1Orfp3+50KNyDPtqdytky3if7YJz7C2QWjdA3xZ3SUuzR6dAzqwuzzgSx2o0+El5h05fbAwJJz2yyya9LBhE3QVP5lsamTV43HpPT2YM0DrzLhXxht4x3yj6aeLy3QCo1cIaS10YVp7thwJ5gMdu5Y6I6utMluEGZum3VRnMV8lkGmtYNSNIdPx2yfXFMdnjYD6zbSdCxGH3UzRLvzyCQeLL/e+vZVuyoP5V+jQVSRW1n7j9XINYogWQNz6BUznc1YcbNVTnv+VPj+CCHCwcyM6Z/l5du7cYffm8qL9jwN5VN0oY7Zx/1/n2ixxlib5LKujbN6gOBZM+c1g4BF7eutTdNCdSXu0RuZ+iPjCwhgWw9Af90aEEwXWrc7qW78Uai7+5gYzdMzcxH2QemXhn1cE722WUw00p42jm94rC6ba1OU5y713/IZM8hPwNkS0VmEhD/KtwOSWOBophZDXK/sD5VJJXqUkX5owjkF3Qs3kQrtauNI5Csy2naVmZlRSSSN641N7AVsaB2Skwm+XHmfGOmhG9uvL2oeXV8OzKHM4o6g49nf7B4xzUOF59+aSRQ4KNWiuLeXzs/k9PI1PD0ywk9arN+r6/F5HWaxr6Xe+RVOe0GkTIF06zxrrM/WLzjGoeL3ph6KFCAVpeRw/kRlZHlApmyul8no3Z0GhRM9phvY6r01ZSZvXMLjDT0u3oIgeL+jCJQgDZZq9vqwpKIIMy2IgTq+zo7UMbZpAQK5tB2RyWjTsEDFt+x/OHiN6b2C0tBgdo2bk/XyaKZLpgx25oQDlZKL1eghuec95QX1gxUkYXzYQGdfpbiOxY/XHzwcT3ofBwSiAuSPLwQTLRaNKIGMD5vRbhKp+mSEW5LHFtsIuU+rHrOUjsWP1xCIDUGWDVZdV65S7+aLu/o0aLLekrsoSbHtWWYI66mCljEUxffsdjhQtV2HrW4da3BfmLWjGgz/HEkXKLC6gKF/6m8EFNlfGEldi1Qevrk2muVcBMdvfhI226RvKw67tNBv+tUm0Kkanhj9iyQbBkPfGL6XQxbngTOEiRt2blwtsYvZyuHAiHnnqwk0OSymFkCDQvmShw9U2Zr++6pihvdvVQmbaYZ4pjsSZM46wh0rdSKc7cqsrxhrkB6Yni9nJt4bFV7e6tK30agprW5YSHQnIu+H5XTYyKcE94vqwhkViyM95zOFEitZlLXWh8RhmwGx+0vIZpJdbanaSbqf/aDl80Zplu7ZxWBnFUxY72GsgXSfXxc2jZYwDKTKXW299++qar754KJ7C8C6dI4i9Qsu6M6AwL5g2DuhG5mSiVDK1bubclaeSAVgmbngWx1DuvauECKkUCdW67PutRieCVup+TtfNTZnPHxzVGsVArTPRejY8eiAuklZHnH0qFArfMoGDjivd02Bx0TwgsyTrPCZhe2NvupB3JGeIo0io+zaX1lvPG/nJRAhRlcsJPpFZbMO9Z5/NlaIBPkv3/vOv+vafvn1r5n9ffvFX/f79u28o9/3vbvK7WPOI76q7rxMfWf+KyS+7vnTn2nG5yjUudwj+FumzrOef+2FChxONaXvKu2qhr+PzQfXVzz1y3fpif9qnTnbpUQ8IhjqmejV6iSDKdjuCz8TFa1OBkad8twxMKJ0qMF7CcJY5XqilM1tZjZoJbtEMF5L4RFzXhb4EROFsTbWiWLSTMKSGdKkOazUj2QLZBk1wP1xsh+7Y0cg9V1uvOofOnU7DTeU+CQ6mUqxlSDZ//DiQHhwLBOBHp/nRo0FjicP7yhcUZ3qndm2vXILDmV7nE3FV6CF+KXlUAmKyVh76/P8w/ntLzLvoECrzlUvwkO+FTZk5kNAjpHpCcSOFcpe3XWygPdJmYwiwvE7Ms040J75QWU/J+m88bdo2doFrCfTDTHzMuzbHxDFX0z9cWTVQ9vyL4E6vSUTPcaIAOB5rIzgThzloAD92aHAoEjAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkVhLo/TW56DcEOg3rCHStPskXN/2CdDiwX1YR6P3VaHP9+IN8OLBjVhHo52ez5vfNT8QqzffvXYe/c/yVFwgR6HFYKw+kQhDyQGdnpVLYz88ypYrEHwh0GlAPBEhAIEACAgESEAiQgECABAQCJCAQIAGBAIm7CQROwp0E2gm7+lXnvphd/bpi7OpXnftidvXrirGrX3Xui9nVryvGrn7VuS9mV7+uGLv6Vee+mF39umLs6led+2J29euKsatfde6L2dWvK8auftW5L2ZXv64Yu/pV576YXf06cDwgECABgQAJCARIQCBAAgIBEhAIkIBAgAQEAiQgECABgQAJCARIQCBA4hQCicljxZRXt6r68FVufPtVzML39lJVz/u4mJsaMfMl9fWtLoZPF1biUs4g0Ptr/09z5Zrc+hc3+e/087OYxvH28Uf/ckODUhcjX+7kYq58C92gMwj09sL/Ga5P3+Qkjhd+h25yMmu55Rqd13rTixFseS3pf5lnvYXEGQSS9P9/mX8vPomjmEj27Zev+7kYzttLZHbJrS8GAg25PH2TuqibJZ5uT3//XMVmBN36YtQHO7kYJGE+fOJYmcirpF78M115uJb/s93/Yjqe/7hDAIpcjJOtJnAWgW46pzgQ6IPzf969L8a+3cPF8FhYIEE9iUBy4upxoJZZVpkDuPvF9FyiEyRvfTE2V0TjHAKpVWC8fxSVBxICbZqVjl7MPVKw+L+MG5MInEIgPYO+U1hV/0xyeY9Nk7D4xWweClMXIy+F/i9zBoFsSu5Ul+myRp9mOGt83PdiNs8CpS4GeSDDVbYQ8H+eqy1Z2LLGpsX45MVsWos4dTGXIv8yZxAI3BEIBEhAIEACAgESEAiQgECABAQCJCAQIAGBAAkIBEhAIEACAgESEAiQgECABAQCJCAQIAGBAAkIBEhAIEACAgESEAiQgECABAQCJCAQIAGBAAkIBEhAIEACAk1zCd5L2wwAAAEmSURBVM3Oe9t4no29AoGmkbNCvb24E+XJeWMABMpATSvmzc0CgRQQaBolkJoYVyRmfP77fut147ljdggEmkZPbMif+SRffOZOEYH4i3tM/LwnINA0WqDr07efv32Vs8NxgeSMh1tPAbszINA0jkD86cbTMC6QzBRtPu/hvoBA07hJWJ/refpdRaA7rL6zPyDQNE4mWoQbnYTdYdbw/QGBpnGK8XKK5UrngR469kgg0DS6IvGTDj590V1koMVCCpfHjkMQaBq3KUPMlsudueh6oMcuhEEgQAMCARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESEAgQAICARIQCJCAQIAEBAIkIBAgAYEACQgESPw/NzXl3yWW4hAAAAAASUVORK5CYII=" /><!-- --></p>
<p>Notice that I specified a vector of ticker symbols, not a matrix of prices or gains. All of the graphing functions in <em>stocks</em> have the ability to download data on the fly.</p>
<p>Clearly the FANG stocks have continued with their remarkable growth over the past 3 years. I actually held Amazon and Google briefly, but sold them once I decided I couldn’t beat the market through stock-picking. I can’t, but in this case I wish I would have kept trying.</p>
</div>
<div id="gains-vs.benchmark-alpha-beta-r-squared" class="section level3">
<h3>Gains vs. benchmark (alpha, beta, R-squared)</h3>
<p>Before buying a fund, you should have a rough idea of how it tends to move with the market. The classic way of doing this is plotting the fund’s daily gains vs. a benchmark (typically the S&amp;P) and looking at the estimated intercept (“alpha”) and slope (“beta”). For example, for Vanguard’s long-term bond fund VBLTX, over the past 5 years:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">gains_graph</span>(<span class="kw">c</span>(<span class="st">&quot;SPY&quot;</span>, <span class="st">&quot;VBLTX&quot;</span>), <span class="dt">from =</span> <span class="st">&quot;2013-03-02&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Definitely a negative trend there, although a weak one: <span class="math inline">\(R^2 = 0.08\)</span> means only 8% of variability in VBLTX gains are explained by the regression on SPY.</p>
<p>Looking at the regression equation, we see positive alpha and negative beta, suggesting VBLTX and SPY would complement each other nicely in a retirement portfolio.</p>
</div>
<div id="compare-funds-on-1-metric" class="section level3">
<h3>Compare funds on 1 metric</h3>
<p>To compare annualized growth for the 10 Select Sector SPDR ETFs over the past year:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(sector_spdr_etfs)
fig &lt;-<span class="st"> </span><span class="kw">onemetric_graph</span>(<span class="dt">tickers =</span> sector_spdr_etfs<span class="op">$</span>ticker, 
                       <span class="dt">from =</span> <span class="st">&quot;2017-03-02&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Notice that I loaded the 10 ticker symbols with <code>data(sector_spdr_etfs)</code>. That worked because a dataset called <code>sector_spdr_etfs</code> is included in <strong>stocks</strong>. Quite a few other ticker lists are also available (run <code>data(package = &quot;stocks&quot;)</code> to see them).</p>
<p>Looks like only 6 of the 10 sectors had positive growth over the past year; XLK (technology) was the best performer with 30.3% growth.</p>
</div>
<div id="compare-funds-on-2-metrics" class="section level3">
<h3>Compare funds on 2 metrics</h3>
<p>To simultaneousy look at annualized growth and maximum drawdown for the sector ETFs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">twometrics_graph</span>(<span class="dt">tickers =</span> sector_spdr_etfs<span class="op">$</span>ticker, 
                        <span class="dt">from =</span> <span class="st">&quot;2017-03-02&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>, 
                        <span class="dt">x.metric =</span> <span class="st">&quot;mdd&quot;</span>, <span class="dt">y.metric =</span> <span class="st">&quot;cagr&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here XLY (consumer discretionary) looks pretty good, with the best max drawdown and second-best growth.</p>
</div>
<div id="one-metric-over-time" class="section level3">
<h3>One metric over time</h3>
<p>Let’s move to another example: Warren Buffett’s Berkshire Hathaway (BRK-B). Let’s see whether BRK-B has consistently outperformed SPY over the past 15 years, looking at the 100-day moving Sharpe ratio:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">onemetric_overtime_graph</span>(<span class="dt">tickers =</span> <span class="kw">c</span>(<span class="st">&quot;SPY&quot;</span>, <span class="st">&quot;BRK-B&quot;</span>), 
                                <span class="dt">from =</span> <span class="st">&quot;2003-03-02&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>, 
                                <span class="dt">window.units =</span> <span class="dv">100</span>, <span class="dt">y.metric =</span> <span class="st">&quot;sharpe&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>There are certainly some periods where SPy does a lot better, and some where BRK-B does a lot better. There’s no obvious winner here, visually. The actual 100-day Sharpe ratios are returned by <em>onemetric_overtime_graph</em>, so we can compare the medians and see what percent of the time BRK-B’s is higher:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(fig, <span class="dv">2</span>, median)
<span class="co">#&gt;     SPY   BRK-B </span>
<span class="co">#&gt; 0.07349 0.05481</span>
<span class="kw">mean</span>(fig[, <span class="dv">2</span>] <span class="op">&gt;</span><span class="st"> </span>fig[, <span class="dv">1</span>])
<span class="co">#&gt; [1] 0.4331</span></code></pre></div>
<p>BRK-B has a tendency for worse risk-adjusted returns than SPY - not good, Mr. Buffett!</p>
</div>
<div id="fund-portfolio-optimization" class="section level3">
<h3>2-fund portfolio optimization</h3>
<p>Until recently, my own retirement portfolio was simply 1/3 UPRO, 2/3 VBLTX. UPRO is a 3x daily S&amp;P 500 ETF, and VBLTX is Vanguard’s long-term bond mutual fund. A good way of visualizing the characteristics of a two-fund portfolio is to plot mean vs. standard deviation of daily gains, for allocations ranging from 100% fund 1 to 100% fund 2. To do that, using data over UPRO’s lifetime, going back to 6/25/09:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">twofunds_graph</span>(<span class="dt">tickers =</span> <span class="kw">c</span>(<span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBLTX&quot;</span>), <span class="dt">reference.tickers =</span> <span class="st">&quot;SPY&quot;</span>,  
                      <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The UPRO/VBLTX strategy sort of trumps SPY, because there are regions on the curve with higher returns and lower volatility than SPY.</p>
<p>For another example, we, could look at annualized growth vs. maximum drawdown rather than mean vs. standard deviation, and look at UPRO/VBLTX as well as UPRO/VBMFX, to see how swapping the long-term fund VBLTX with the total bond fund VBMFX would affect our portfolio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">twofunds_graph</span>(<span class="dt">tickers =</span> <span class="kw">c</span>(<span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBLTX&quot;</span>, <span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBMFX&quot;</span>), 
                      <span class="dt">reference.tickers =</span> <span class="st">&quot;SPY&quot;</span>,  
                      <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>, 
                      <span class="dt">x.metric =</span> <span class="st">&quot;mdd&quot;</span>, <span class="dt">y.metric =</span> <span class="st">&quot;cagr&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>UPRO/VBLTX clearly has much better performance. One more example, this time Sharpe ratio vs. allocation, for the same two funds plus UPRO/TLT:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">twofunds_graph</span>(<span class="dt">tickers =</span> <span class="kw">c</span>(<span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBLTX&quot;</span>, <span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBMFX&quot;</span>, <span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;TLT&quot;</span>), 
                      <span class="dt">reference.tickers =</span> <span class="st">&quot;SPY&quot;</span>,  
                      <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>, 
                      <span class="dt">x.metric =</span> <span class="st">&quot;mean&quot;</span>, <span class="dt">y.metric =</span> <span class="st">&quot;sharpe&quot;</span>, 
                      <span class="dt">plot.list =</span> <span class="kw">list</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.12</span>)))</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The rationale for this graph is that we might want to target the same level of expected returns as SPY, but with as high of a Sharpe ratio as possible. If you go straight up on the graph from the SPY data point, you hit the red curve first, then the orange, and finally the blue. So we would choose UPRO/VBLTX, with something like 75-80% allocated to VBLTX.</p>
</div>
<div id="fund-portfolio-optimization-1" class="section level3">
<h3>3-fund portfolio optimization</h3>
<p>The change I made recently was adding Vanguard’s high-yield (aka “junk bond”) mutual fund, VWEHX, to the mix. To visualize characteristics of VWEHX/UPRO/VBLTX:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fig &lt;-<span class="st"> </span><span class="kw">threefunds_graph</span>(<span class="dt">tickers =</span> <span class="kw">c</span>(<span class="st">&quot;VWEHX&quot;</span>, <span class="st">&quot;UPRO&quot;</span>, <span class="st">&quot;VBLTX&quot;</span>), 
                        <span class="dt">reference.tickers =</span> <span class="st">&quot;SPY&quot;</span>,  
                        <span class="dt">to =</span> <span class="st">&quot;2018-03-02&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Each curve is for a fixed allocation to the first fund. The black curve is 0% VWEHX, so it is the same as the UPRO/VBLTX curve in the previous graph. The red curve is 20% VWEHX, and the remaining 80% allocated entirely to VBLTX (bottom-most point), entirely to UPRO (top-right data point), and everywhere in between.</p>
<p>At SPY’s SD, the black curve (0% VWEHX) achieves the highest mean. At SPY’s mean, the blue (40% VWEHX) or red (20% VWEHX) curve has the lowest SD. So depending on what you’re going for, it may or may not be worthwhile adding VWEHX. My rationale was sort of qualitative: two nearly independent alpha-generating bond funds seems better than one.</p>
</div>
</div>
<div id="conclusions" class="section level2">
<h2>Conclusions</h2>
<p>Hopefully this gives you a good idea of the main functions in <strong>stocks</strong>. There are a lot of options I didn’t cover, especially for the graphics functions. You can read about these options by looking at the relevant help files (e.g. run <code>?twofunds_graph</code> in R). Please feel free to e-mail me at <a href="mailto:vandomed@gmail.com">vandomed@gmail.com</a> with questions or suggestions, or, better yet, contribute to the project on <a href="https://github.com/vandomed/stocks/">GitHub</a>.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-PerformanceAnalytics">
<p>Peterson, Brian G., and Peter Carl. 2014. <em>PerformanceAnalytics: Econometric Tools for Performance and Risk Analysis</em>. <a href="https://CRAN.R-project.org/package=PerformanceAnalytics" class="uri">https://CRAN.R-project.org/package=PerformanceAnalytics</a>.</p>
</div>
<div id="ref-quantmod">
<p>Ryan, Jeffrey A., and Joshua M. Ulrich. 2017. <em>Quantmod: Quantitative Financial Modelling Framework</em>. <a href="https://CRAN.R-project.org/package=quantmod" class="uri">https://CRAN.R-project.org/package=quantmod</a>.</p>
</div>
<div id="ref-printr">
<p>Xie, Yihui. 2017. <em>Printr: Automatically Print R Objects to Appropriate Formats According to the ’Knitr’ Output Format</em>. <a href="https://CRAN.R-project.org/package=printr" class="uri">https://CRAN.R-project.org/package=printr</a>.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
